# Практика IaC с использованием Terraform
Домашняя работа №7

## Задание
1. [Создание инфраструктуры при помощи Terraform](#chapter-0)
2. [Совместная работа с terraform](#chapter-1)
3. [Добавление provisioners](#chapter-2)

<a id="chapter-0"></a>
## Создание инфраструктуры при помощи Terraform

Была создана инфраструктура при terraform, согласно методическим указаниям

<a id="chapter-1"></a>
## Совместная работа с terraform

Предварительно необходимо создать Yandex Object Storage и добавить его имя в переменную bucket файла backend.tf.
Инициализация происходитс помощью команды:
``` terraform init -backend-config="$path_to_key"```
где $path_to_key путь к файлу с переменными access_key и secret_key для доступа к бакету.

<a id="chapter-2"></a>
## Добавление второго инстанса для приложения
Добавлены provisioners к модулям app и db:
- Для db меняется ip адрес на котором mongod принимает подключения
- Для app разворачиввается приложение и веб сервер puma, а так же устанавливается адрес базу данных через переменную окружения DATABASE_URL
